version: '1.0'
category: claude-code-organization
last_updated: '2026-01-09'
patterns:
- id: CLAUDE-CODE-FILES-ORGANIZATION-001
  title: 'Claude Code Files Organization: Complete .claude/ Directory Structure'
  severity: high
  scope: universal
  tags:
  - claude-code
  - organization
  - skills
  - agents
  - memory
  - structure
  - best-practices
  problem: 'Claude Code projects face organization challenges:

    - No clear structure for .claude/ directory

    - SKILLS, AGENTS, commands scattered and inconsistent

    - Poor discoverability of custom capabilities

    - Mixed concerns (project-specific vs team-shared vs personal)

    - No progressive disclosure for complex configurations

    - Token waste from loading unnecessary context

    - Difficult to maintain and scale across team


    Real scenarios:

    - 20+ skills in flat directory → Claude can''t find right one

    - 1000-line CLAUDE.md → Token waste, hard to navigate

    - Commands mixed with skills → Confusion, poor UX

    - No separation between team/personal → Can''t share effectively

    '
  impact: '- **Discovery:** Skills/agents not found when needed

    - **Maintenance:** Impossible to scale beyond 10 skills

    - **Collaboration:** Team can''t share configurations

    - **Tokens:** Wasted on irrelevant context

    - **Performance:** Slow startup, bloated context

    - **UX:** Poor developer experience

    '
  solution:
    code: "# Production-ready .claude/ directory structure\n.claude/\n├── CLAUDE.md\
      \                      # Project memory (navigation hub, ~300 lines)\n├── settings.json\
      \                  # Configuration (feature flags, enabled skills/agents)\n│\n├──\
      \ skills/                        # Reusable procedural knowledge\n│   ├──\
      \ testing/\n│   │   ├── SKILL.md              # Metadata + instructions (200-500\
      \ lines)\n│   │   ├── resources/            # Detailed content (loaded on-demand)\n\
      │   │   │   ├── patterns.md\n│   │   │   ├── examples/\n│   │   │   └── templates/\n\
      │   │   └── scripts/              # Optional automation\n│   ├── code-review/\n\
      │   ├── documentation/\n│   └── refactoring/\n│\n├── agents/               \
      \         # Autonomous agents (orchestrators)\n│   ├── orchestrator.md     \
      \      # Main coordinator\n│   ├── code-review-agent.md      # Specialist agent\n\
      │   └── subagents/                # Specialist subagents\n│       ├── researcher.md\n\
      │       ├── debugger.md\n│       ├── validator.md\n│       └── knowledge-curator.md\n\
      │\n├── commands/                      # Slash commands (prompt templates)\n│\
      \   ├── test.md                   # /project:test\n│   ├── review.md       \
      \          # /project:review\n│   └── deploy.md                 # /project:deploy\n\
      │\n├── hooks/                         # Lifecycle automation (deterministic)\n\
      │   ├── session-setup.sh          # SessionStart: Environment setup\n│   ├──\
      \ validate-yaml.sh         # PreToolUse: Validate YAML edits\n│   ├── quality-gate.sh\
      \           # PostToolUse: Quality checks\n│   └── auto-commit.sh          \
      \  # Stop: Auto-commit changes\n│\n├── standards/                     # Team\
      \ standards (single source of truth)\n│   ├── architecture.md\n│   ├── coding-standards.md\n\
      │   ├── testing-guidelines.md\n│   └── api-standards.md\n│\n├── references/\
      \                    # Reference documentation (progressive disclosure)\n│ \
      \  ├── patterns/\n│   ├── apis/\n│   └── troubleshooting.md\n│\n└── memory/\
      \                        # Persistent memory (optional)\n    ├── project-state.json\
      \        # Project decisions, context\n    └── session-history.json      # Cross-session\
      \ memory\n\n# Global (user-level) structure\n~/.claude/\n├── CLAUDE.md     \
      \                 # Personal preferences (all projects)\n├── skills/       \
      \                 # Personal skills (available everywhere)\n│   ├── my-coding-style/\n\
      │   └── brand-guidelines/\n└── settings.json                  # User-level config\n"
    explanation: "**Core Principles:**\n\n1. **Progressive Disclosure**\n   - CLAUDE.md\
      \ = Navigation hub (~300 lines), references details\n   - SKILL.md = Overview\
      \ + links, details in resources/\n   - Load details on-demand, not upfront\n\
      \n2. **Single Source of Truth**\n   - Each standard in ONE file\n   - All others\
      \ reference it (no duplication)\n   - One authoritative source per topic\n\n\
      3. **Hierarchical Configuration**\n   ```\n   Enterprise → User → Project →\
      \ Local\n   (most general) → (most specific)\n   ```\n\n4. **Clear Separation\
      \ of Concerns**\n   - SKILLS = Procedural knowledge (how to do X)\n   - AGENTS\
      \ = Autonomous systems (independent workers)\n   - COMMANDS = Prompt templates\
      \ (quick workflows)\n   - HOOKS = Deterministic automation (guaranteed execution)\n\
      \   - STANDARDS = Team rules (single source of truth)\n\n5. **Token Efficiency**\n\
      \   - Metadata loaded at startup (30-50 tokens per skill)\n   - Full content\
      \ loaded on-demand (when relevant)\n   - Scripts executed (not counted as tokens)\n\
      \n**File Size Guidelines:**\n- CLAUDE.md: ~300 lines maximum\n- SKILL.md: 200-500\
      \ lines\n- AGENT.md: 300-800 lines\n- COMMAND.md: 50-200 lines\n- Hook scripts:\
      \ <100 lines (fast execution)\n"
  best_practices:
  - practice: Keep CLAUDE.md lean (~300 lines)
    reason: Acts as navigation hub, references detailed content
    anti_pattern: '❌ WRONG: 2000 lines with all details inline

      ✅ CORRECT: 300 lines overview + @standards/ references

      '
  - practice: Use progressive disclosure for skills
    reason: Load metadata at startup, full content on-demand
    pattern: 'SKILL.md (300 lines)

      ├─ When to use, key instructions

      └─ @resources/patterns.md (detailed, loaded when needed)

      '
  - practice: Consolidate related skills
    reason: 5 good skills > 20 micro-skills
    example: '✅ CORRECT: testing-skill/ (unit, integration, e2e)

      ❌ WRONG: unit-test-skill/, integration-test-skill/, e2e-test-skill/

      '
  - practice: Use hooks for automation, not prompts
    reason: Hooks = guaranteed, prompts = probabilistic
    example: '✅ CORRECT: PostToolUse hook validates YAML

      ❌ WRONG: "Please validate YAML" (Claude might forget)

      '
  - practice: Single source of truth for standards
    reason: Avoid duplication, prevent inconsistencies
    pattern: 'standards/testing.md (authoritative)

      SKILL.md: "See @standards/testing.md for patterns"

      AGENT.md: "Follow @standards/testing.md"

      '
  implementation: "@references/CLAUDE-CODE-FILES-ORGANIZATION-001-implementation.md"
  directory_structure_complete: "@references/CLAUDE-CODE-FILES-ORGANIZATION-001-structure.md"
  file_types_guide: "@references/CLAUDE-CODE-FILES-ORGANIZATION-001-file-types.md"
  real_world_examples: "@references/CLAUDE-CODE-FILES-ORGANIZATION-001-examples.md"
  testing_validation: "@references/CLAUDE-CODE-FILES-ORGANIZATION-001-testing.md"
  anti_patterns: "@references/CLAUDE-CODE-FILES-ORGANIZATION-001-anti-patterns.md"
  quality_metrics: "@references/CLAUDE-CODE-FILES-ORGANIZATION-001-quality.md"
  verification_checklist: "@references/CLAUDE-CODE-FILES-ORGANIZATION-001-quality.md"
  migration_guide: "@references/CLAUDE-CODE-FILES-ORGANIZATION-001-migration.md"
  related_patterns:
  - CLAUDE-CODE-SHARED-MODEL-001 - Hierarchical configuration
  - CLAUDE-CODE-HOOKS-001 - Deterministic automation
  - PROGRESSIVE-DISCLOSURE-001 - Progressive disclosure for information
  - DOC-ORGANIZATION-001 - Documentation structure
  - claude-skills-guide.md - Complete skills guide
  - claude-agents-guide.md - Complete agents guide
  references:
  - claude-hooks-guide.md - Complete hooks reference (1254 lines)
  - claude-skills-guide.md - Skills best practices (1505 lines)
  - claude-agents-guide.md - Agents best practices (1278 lines)
  - CLAUDE-CLAUDE-MD-GUIDE.md - Project memory guide (308 lines)
  - 'Anthropic Engineering: Claude Code Best Practices - https://www.anthropic.com/engineering/claude-code-best-practices'
  - 'Claude Docs: Skill Authoring Best Practices - https://platform.claude.com/docs/en/agents-and-tools/agent-skills/best-practices'
  - for-claude-code/README.md - Claude Code integration guide (656 lines)
  metadata:
    created_at: '2026-01-07'
    author: Shared KB Curator
    source: Synthesized from KB + official docs + web research
    reusable: true
    severity_level: 2
    difficulty: intermediate
    pattern_type: organization
    applicable_to:
    - claude-code
    - project-organization
    - team-collaboration
  quality_assurance:
    reviewed: true
    tested: true
    examples_verified: true
    anti_patterns_validated: true
    last_review_date: '2026-01-09'
  domains:
    primary: performance
    secondary: []
