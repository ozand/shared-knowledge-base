version: "1.0"
category: "claude-code"
last_updated: "2026-01-07"

patterns:
  - id: "MCP-SEQUENTIAL-THINKING-001"
    title: "Sequential Thinking MCP Server - Advanced Reasoning"
    severity: "medium"
    scope: "universal"

    problem: |
      Complex problems require structured reasoning:
      - Breaking down complex tasks
      - Multi-step planning
      - Consideration of alternatives
      - Avoiding logical fallacies
      - Structured decision-making

    solution: |
      Sequential Thinking MCP server enables advanced reasoning:
      - Problem decomposition
      - Multi-step planning
      - Structured analysis
      - Decision support
      - Chain-of-thought reasoning

    features:
      - Break problems into steps
      - Explore alternatives systematically
      - Identify dependencies
      - Validate reasoning chains
      - Provide explanations

    installation:
      global: "claude mcp add sequential-thinking -s user -- npx -y @modelcontextprotocol/server-sequential-thinking"
      local: "claude mcp add sequential-thinking -s local -- npx -y @modelcontextprotocol/server-sequential-thinking"

    requirements:
      - Node.js and npx for execution
      - Claude Code CLI for installation

    usage_examples:
      - "Plan the architecture for a microservices system"
      - "Break down the implementation of a feature"
      - "Analyze the pros and cons of different approaches"
      - "Debug complex issues systematically"

    benefits:
      - Structured problem-solving
      - Better planning and estimation
      - Reduced oversight
      - Clearer communication
      - Improved decision-making

    prevention:
      - prevention: "Use sequential thinking for complex problems only (>3 steps)"
        reason: "Simple problems don't benefit from structured approach, adds overhead"
        how: "Direct answer for <3 steps, sequential thinking for complex planning/debugging"
      - prevention: "Set iteration limits to prevent infinite loops"
        reason: "Unbounded thinking can waste tokens, get stuck in circular reasoning"
        how: "Configure: max_iterations=10, default: 5 for most tasks"
      - prevention: "Validate thinking steps before proceeding to next iteration"
        reason: "Invalid early steps cascade into wasted iterations"
        how: "After each step, verify: Is this logical? Does it advance solution?"
      - prevention: "Use sequential thinking as planning tool, not execution tool"
        reason: "Planning requires reasoning, execution requires action"
        how: "Sequential thinking for architecture → Execute with specific tools"
      - prevention: "Document thinking process for future reference"
        reason: "Reasoning lost if not saved, can't review decision process later"
        how: "Save thinking session to docs/planning/<task>-analysis.md"
      - prevention: "Combine with domain-specific tools for best results"
        reason: "Sequential thinking alone lacks domain knowledge"
        how: "Use: sequential thinking → KB search → code generation → testing"
      - prevention: "Review and refine thinking output before executing"
        reason: "Thinking may have gaps or overlook edge cases"
        how: "After thinking completes, read output, check for missing steps or assumptions"
      - prevention: "Teach sequential thinking patterns to improve quality over time"
        reason: "Agent learns from examples, develops better reasoning habits"
        how: "Provide good examples: 'For planning architecture, use these 5 steps...'"

    tags: ["claude-code", "mcp", "sequential-thinking", "reasoning", "planning"]

    related_patterns:
      - "MCP-INTEGRATION-001"
      - "SPECIALIZED-AGENTS-001"
